---
title: '2021-07-30-[筆記]陣列物件篩選不重複'
tags:
  - JavaScript
categories:
  - JavaScript
abbrlink: 3033121938
---
前言：
我們在篩選不重複值時，很直接一定會聯想到 filter，而 ES6 提供新語法 new Set 正好可以協助我們快速建立一組不重複的 Array。

<!-- more -->
---
參考資料：
[JavaScript取出”陣列-物件“重複/不重複值的方法](https://guahsu.io/2018/04/JavaScript-Duplicates-Array-Object/)
[Set MDN](https://developer.mozilla.org/zh-TW/docs/Web/JavaScript/Reference/Global_Objects/Set)

---
### 情境一：取出獨立屬性

```jsx
const arrayObject = [
  {
    name: 'ANDY',
    age: 26,
  },
  {
    name: 'Cindy',
    age: 19,
  },
  {
    name: 'ANDY',
    age: 40,
  },
  {
    name: 'Bob',
    age: 33,
  },
  {
    name: 'Cindy',
    age: 19,
  },
];

const set = new Set();
// 我們這邊是透過 new Set() 篩選，而真正資料還是filter過濾的！
const Data = arrayObject.filter((item) => (set.has(item.name) ? false : set.add(item.name)));
// filter 只會回回傳 true 的結果
```

### 情境二：剔除完全相同資料

```jsx
// 物件不能比較，所以轉為字串比較
const Data2 = [...new Set(arrayObject.map((item) => (JSON.stringify(item))))].map((item) => (JSON.parse(item)));
```

### 情境三：找出完全相同資料

```jsx
const Data3 = arrayObject.filter((item) => (set.has(JSON.stringify(item)) ? true : (set.add(JSON.stringify(item)), false)));
```